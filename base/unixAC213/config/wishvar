#! /bin/sh
# config/wishvar tcl_library $with_wish
# generate the executable to extract a variable
# from the tickle shell
cat << EOF > wishvar.tmp.tcl
#! $2
# this is a generated file and can be deleted any time.
#puts \$argc 
#puts \$argv
if {\$argc != 1} {
        puts stderr "\$argv0 needs variable name"
        exit 1
}
set var [lindex \$argv 0]
puts [set \$var]
exit 0
EOF

#call it
# usage wishvar varname shell-to-test-in
exec $2 wishvar.tmp.tcl -- $1
exit 0
