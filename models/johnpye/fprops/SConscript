Import('env')
fprops_env = env.Clone()

fprops_env.Append(LIBPATH=['#'])
fprops_env.Append(LIBS=['ascend'])

lib = fprops_env.SharedLibrary("mbwr"
	,['mbwr.c','asc_mbwr.c']
	,SHLIBSUFFIX = env['EXTLIB_SUFFIX']
	,SHLIBPREFIX = env['EXTLIB_PREFIX']
)

if WhereIs('gsl-config'):
	fprops_env.ParseConfig(['gsl-config','--libs','--cflags'])

env['fluids'] = ['ammonia','water','nitrogen','hydrogen','carbondioxide','methane','carbonmonoxide','ethanol','acetone','carbonylsulfide','decane','hydrogensulfide','isopentane','krypton','neopentane','nitrousoxide','sulfurdioxide','toluene','xenon','butane','butene','cisbutene','isobutene','transbutene','dimethylether','ethane','parahydrogen','isobutane','r41','r116','r141b','r142b','r218','r245fa']

lib = fprops_env.SharedLibrary("helmholtz"
	,['ideal.c','helmholtz.c','asc_helmholtz.c','sat.c','derivs.c','nonsolver.c','solve_ph.c']
		+ ['%s.c' % f for f in env['fluids']]
	,SHLIBSUFFIX = env['EXTLIB_SUFFIX']
	,SHLIBPREFIX = env['EXTLIB_PREFIX']
)

env['extfns'] += [lib]

# vim: set syntax=python:
