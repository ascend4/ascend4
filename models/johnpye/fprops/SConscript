Import('env')
fprops_env = env.Clone()

fprops_env.Append(LIBPATH=['#'])
fprops_env.Append(LIBS=['ascend'])

lib = fprops_env.SharedLibrary("mbwr"
	,['mbwr.c','asc_mbwr.c']
	,SHLIBSUFFIX = env['EXTLIB_SUFFIX']
	,SHLIBPREFIX = env['EXTLIB_PREFIX']
)

fprops_env.SConscript("fluids/SConscript",['fprops_env'])

lib = fprops_env.SharedLibrary("helmholtz"
	,['ideal.c','helmholtz.c','asc_helmholtz.c','sat.c','derivs.c','solve_ph.c','fluids.c']
		+ ['%s' % f for f in fprops_env['fluids']]
	,SHLIBSUFFIX = env['EXTLIB_SUFFIX']
	,SHLIBPREFIX = env['EXTLIB_PREFIX']
)

fprops_env.Depends("fluids.c","fluids/fluids_list.h")

env['extfns'] += [lib]

# vim: set syntax=python:
