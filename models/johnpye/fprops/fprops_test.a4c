(* test of the fluid properties routines currently implemented in asc_mbwr.c *)

REQUIRE "atoms.a4l";
REQUIRE "johnpye/thermo_types.a4c";
IMPORT "johnpye/fprops/helmholtz";

MODEL mbwrconf;
	component IS_A symbol_constant;
	component :== 'ammonia';
END mbwrconf;

MODEL fprops_test;

	p IS_A pressure;
	T IS_A temperature;
	rho IS_A mass_density;
	h IS_A specific_enthalpy;

	propsdata IS_A mbwrconf;

	props1: helmholtz_p(
		T, rho : INPUT;
		p : OUTPUT;
		propsdata : DATA
	);

	props2: helmholtz_h(
		T, rho : INPUT;
		h : OUTPUT;
		propsdata : DATA
	);

METHODS
METHOD on_load;
	FIX rho, T;
	rho := 1 {kg/m^3};
	T := 400 {K};
END on_load;
END fprops_test;

