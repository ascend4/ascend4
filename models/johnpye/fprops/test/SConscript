Import('fprops_env')

testsrcs = ['ideal.c','ph.c','sat1.c','sat.c','visc.c']

#print "srcs =",srcs

#for s in testsrcs:
#	fprops_env.Program([s] + fprops_env['shobjs']
#		,LIBS = ["m"]
#		,LIBPATH = "#"
#	)

if fprops_env['HAVE_CUNIT']:
	tobjs = []
	for f in fprops_env['fluids']:
		tobjs += [fprops_env.SharedObject(f
			,CPPDEFINES=['-DTEST','-DCUNIT_TEST']
			,OBJPREFIX='#/test/cutest-fluid-'
		)]

	tobjs += [
		fprops_env.SharedObject('cutest.c',OBJPREFIX='#/test/cutest-')
		, fprops_env.SharedObject('../test.c')
	]
	
	fprops_env.Program('cutest', fprops_env['shobjs'] + tobjs
		,LIBS = ['m','cunit'] 
	)
